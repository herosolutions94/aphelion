{"ast":null,"code":"import _defineProperty from\"/Users/macbook/Desktop/aphelion/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/macbook/Desktop/aphelion/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macbook/Desktop/aphelion/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{postData,checkPattern,getSiteImages}from'../../helpers/api';import{ToastContainer,toast}from'react-toastify';import{useForm}from\"react-hook-form\";import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Newsletter(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState=useState({email:''}),_useState2=_slicedToArray(_useState,2),newsletter=_useState2[0],setNewsletter=_useState2[1];function onSubmit(){if(newsletter.email_error===true||newsletter.email===''){setNewsletter(_objectSpread(_objectSpread({},newsletter),{},{email_error:true,email_error_msg:\"Enter a valid email address\"}));}else{setNewsletter(_objectSpread(_objectSpread({},newsletter),{},{btn_loading:true}));var form_data=new FormData();for(var key in newsletter){form_data.append(key,newsletter[key]);}postData(\"newsletter\",form_data).then(function(data){if(data.status==1){// document.getElementById(\"frmnewsletter\").reset();\nsetNewsletter(_objectSpread(_objectSpread({},newsletter),{},{btn_loading:false,email:\"\"}));toast.success(\"\".concat(data.msg),{position:\"top-right\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else{setNewsletter(_objectSpread(_objectSpread({},newsletter),{},{btn_loading:false}));toast.error(\"\".concat(data.msg),{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}});}}function handleNewsletterChange(e){if(e.target.name==='email'){var email_chk=checkPattern(e.target.value,/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);if(email_chk===false){if(e.target.value===''){setNewsletter(_objectSpread(_objectSpread({},newsletter),{},{email_error:false}));}else{var _objectSpread2;setNewsletter(_objectSpread(_objectSpread({},newsletter),{},(_objectSpread2={},_defineProperty(_objectSpread2,e.target.name,e.target.value),_defineProperty(_objectSpread2,\"email_error\",true),_defineProperty(_objectSpread2,\"email_error_msg\",\"Invalid e-mail address\"),_objectSpread2)));}}else{var _objectSpread3;setNewsletter(_objectSpread(_objectSpread({},newsletter),{},(_objectSpread3={},_defineProperty(_objectSpread3,e.target.name,e.target.value),_defineProperty(_objectSpread3,\"email_error\",false),_defineProperty(_objectSpread3,\"email_error_msg\",\"\"),_objectSpread3)));}}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscribe\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fancy\",children:props.text}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"email\",value:newsletter.email,onChange:handleNewsletterChange,className:newsletter.email_error===true?'input error':'input',placeholder:\"Enter Email Address\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:newsletter.btn_loading===true?'disabled':'',children:[/*#__PURE__*/_jsx(\"img\",{src:getSiteImages(\"/images/icon-send.svg\"),alt:\"Send\"}),\" \",newsletter.btn_loading===true?/*#__PURE__*/_jsx(\"i\",{className:\"spinner\"}):'']})]})]})]});}export default Newsletter;","map":{"version":3,"sources":["/Users/macbook/Desktop/aphelion/src/components/includes/Newsletter.jsx"],"names":["React","useState","postData","checkPattern","getSiteImages","ToastContainer","toast","useForm","Newsletter","props","register","handleSubmit","errors","formState","email","newsletter","setNewsletter","onSubmit","email_error","email_error_msg","btn_loading","form_data","FormData","key","append","then","data","status","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","handleNewsletterChange","e","target","name","email_chk","value","text"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { postData, checkPattern, getSiteImages } from '../../helpers/api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { useForm } from \"react-hook-form\";\nimport 'react-toastify/dist/ReactToastify.css';\nfunction Newsletter(props) {\n\tconst { register, handleSubmit, formState: { errors } } = useForm();\n\tconst [newsletter, setNewsletter] = useState({\n\t\temail: '',\n\t});\n\tfunction onSubmit() {\n\n\t\tif (newsletter.email_error === true || newsletter.email === '') {\n\t\t\tsetNewsletter({ ...newsletter, email_error: true, email_error_msg: \"Enter a valid email address\" });\n\t\t}\n\n\t\telse {\n\t\t\tsetNewsletter({ ...newsletter, btn_loading: true });\n\t\t\tvar form_data = new FormData();\n\n\t\t\tfor (var key in newsletter) {\n\t\t\t\tform_data.append(key, newsletter[key]);\n\t\t\t}\n\t\t\tpostData(\"newsletter\", form_data).then((data) => {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t// document.getElementById(\"frmnewsletter\").reset();\n\t\t\t\t\tsetNewsletter({ ...newsletter, btn_loading: false, email: \"\" });\n\t\t\t\t\ttoast.success(`${data.msg}`, {\n\t\t\t\t\t\tposition: \"top-right\",\n\t\t\t\t\t\tautoClose: 1000,\n\t\t\t\t\t\thideProgressBar: false,\n\t\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetNewsletter({ ...newsletter, btn_loading: false });\n\t\t\t\t\ttoast.error(`${data.msg}`, {\n\t\t\t\t\t\tposition: \"top-right\",\n\t\t\t\t\t\tautoClose: 2000,\n\t\t\t\t\t\thideProgressBar: false,\n\t\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tfunction handleNewsletterChange(e) {\n\n\t\tif (e.target.name === 'email') {\n\n\t\t\tlet email_chk = checkPattern(e.target.value, /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);\n\n\t\t\tif (email_chk === false) {\n\t\t\t\tif (e.target.value === '') {\n\t\t\t\t\tsetNewsletter({ ...newsletter, email_error: false });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetNewsletter({ ...newsletter, [e.target.name]: e.target.value, email_error: true, email_error_msg: \"Invalid e-mail address\" });\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetNewsletter({ ...newsletter, [e.target.name]: e.target.value, email_error: false, email_error_msg: \"\" });\n\t\t\t}\n\n\t\t}\n\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ToastContainer />\n\t\t\t<div className=\"subscribe\">\n\t\t\t\t<span className=\"fancy\">{props.text}</span>\n\t\t\t\t<form method=\"post\" onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" value={newsletter.email} onChange={handleNewsletterChange} className={(newsletter.email_error === true) ? 'input error' : 'input'} placeholder=\"Enter Email Address\" />\n\t\t\t\t\t<button type=\"submit\" disabled={(newsletter.btn_loading === true) ? 'disabled' : ''}>\n\t\t\t\t\t\t<img src={getSiteImages(\"/images/icon-send.svg\")} alt=\"Send\" /> {(newsletter.btn_loading === true) ? <i className=\"spinner\"></i> : ''}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Newsletter;\n"]},"metadata":{},"sourceType":"module"}